/** @import must precede all other statements */
@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&family=Orbitron:wght@500;700;800&family=Outfit:wght@300;400;500;600;700&display=swap");

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /**
   * Tailwind CSS theme
   * tailwind.config.ts expects the following color variables to be expressed as HSL values.
   * A different format will require also updating the theme in tailwind.config.ts.
  */
  :root {
    /* Core palette */
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;

    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;

    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;

    --primary: 221 83% 53%;
    --primary-foreground: 210 40% 98%;

    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;

    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;

    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;

    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 222.2 84% 4.9%;

    --radius: 0.9rem;

    /* Sidebar palette (kept for components) */
    --sidebar-background: 0 0% 98%;
    --sidebar-foreground: 240 5.3% 26.1%;
    --sidebar-primary: 240 5.9% 10%;
    --sidebar-primary-foreground: 0 0% 98%;
    --sidebar-accent: 240 4.8% 95.9%;
    --sidebar-accent-foreground: 240 5.9% 10%;
    --sidebar-border: 220 13% 91%;
    --sidebar-ring: 217.2 91.2% 59.8%;

    /* Futuristic brand tokens */
    --neon: 178 100% 52%; /* Cyan */
    --neon-pink: 312 100% 58%; /* Magenta */
    --neon-purple: 260 100% 64%; /* Electric purple */
    --glass-bg: 0 0% 100% / 6%; /* hsla fallback used via color-mix */

    /* Dynamic gradient stops (change per section) */
    --grad-1: 222 89% 52%;
    --grad-2: 280 87% 60%;
    --grad-3: 190 95% 55%;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;

    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;

    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;

    --primary: 210 40% 98%;
    --primary-foreground: 222.2 47.4% 11.2%;

    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;

    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;

    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;

    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 212.7 26.8% 83.9%;

    --sidebar-background: 240 5.9% 10%;
    --sidebar-foreground: 240 4.8% 95.9%;
    --sidebar-primary: 224.3 76.3% 48%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 240 3.7% 15.9%;
    --sidebar-accent-foreground: 240 4.8% 95.9%;
    --sidebar-border: 240 3.7% 15.9%;
    --sidebar-ring: 217.2 91.2% 59.8%;

    --grad-1: 190 95% 55%;
    --grad-2: 312 100% 58%;
    --grad-3: 224 100% 62%;
  }

  /* Secret cyberpunk neon mode toggled by pressing "C" */
  .cyberpunk {
    --background: 260 20% 6%;
    --foreground: 210 40% 98%;
    --card: 257 24% 10%;
    --card-foreground: 210 40% 98%;
    --border: 270 80% 40%;
    --ring: 178 100% 52%;
    --primary: 312 100% 58%;
    --primary-foreground: 260 20% 6%;

    --grad-1: 312 100% 58%;
    --grad-2: 178 100% 52%;
    --grad-3: 260 100% 64%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground antialiased selection:bg-primary/20 selection:text-primary;
    font-family:
      "Outfit",
      "Inter",
      ui-sans-serif,
      system-ui,
      -apple-system,
      Segoe UI,
      Roboto,
      "Helvetica Neue",
      Arial,
      "Noto Sans",
      "Apple Color Emoji",
      "Segoe UI Emoji",
      "Segoe UI Symbol",
      "Noto Color Emoji";
    background-image:
      radial-gradient(
        1200px 800px at 20% -20%,
        hsl(var(--grad-1) / 0.2),
        transparent 60%
      ),
      radial-gradient(
        1000px 700px at 100% 0%,
        hsl(var(--grad-2) / 0.18),
        transparent 60%
      ),
      radial-gradient(
        800px 600px at -10% 80%,
        hsl(var(--grad-3) / 0.16),
        transparent 60%
      );
    background-attachment: fixed;
    scroll-behavior: smooth;
  }

  h1,
  h2,
  h3,
  h4 {
    font-family: "Orbitron", "Outfit", system-ui, sans-serif;
    letter-spacing: 0.02em;
  }
}

/* Components and utilities */
@layer components {
  .glass {
    @apply bg-white/10 dark:bg-white/5 backdrop-blur-xl border border-white/20 shadow-[0_0_1px_0_hsla(0,0%,100%,0.5)_inset,0_8px_32px_-8px_rgba(2,8,23,0.35)] rounded-2xl;
  }
  /* Career Galaxy CSS background from user, adapted to be scoped inside section */
  .galaxy-bg {
    position: absolute;
    inset: 0;
    z-index: 0;
    background: url("https://i.ibb.co/87GbbFP/2799006.jpg") center/cover
      no-repeat;
    filter: saturate(0.9) brightness(0.8);
  }
  .galaxy-bg::before {
    content: "";
    position: absolute;
    inset: 0;
    background: #000;
    opacity: 0.3;
  }
  .galaxy-star-field {
    position: absolute;
    inset: 0;
    z-index: 1;
    perspective: 600px;
    pointer-events: none;
    overflow: hidden;
  }
  .galaxy-layer {
    position: absolute;
    top: 50%;
    left: 50%;
    height: 4px;
    width: 4px;
    border-radius: 2px;
    transform-style: preserve-3d;
    box-shadow:
      -411px -476px #cccccc,
      777px -407px #d4d4d4,
      -387px -477px #fcfcfc,
      -91px -235px #d4d4d4,
      491px -460px #f7f7f7,
      892px -128px #f7f7f7,
      758px -277px #ededed,
      596px 378px #cccccc,
      647px 423px whitesmoke,
      183px 389px #c7c7c7,
      524px -237px #f0f0f0,
      679px -535px #e3e3e3,
      158px 399px #ededed,
      157px 249px #ededed,
      81px -450px #ebebeb,
      719px -360px #c2c2c2,
      -499px 473px #e8e8e8,
      -158px -349px #d4d4d4,
      870px -134px #cfcfcf,
      446px 404px #c2c2c2,
      440px 490px #d4d4d4,
      414px 507px #e6e6e6,
      -12px 246px #fcfcfc,
      -384px 369px #e3e3e3,
      641px -413px #fcfcfc,
      822px 516px #dbdbdb,
      449px 132px #c2c2c2,
      727px 146px #f7f7f7,
      -315px -488px #e6e6e6,
      952px -70px #e3e3e3,
      -869px -29px #dbdbdb,
      502px 80px #dedede,
      764px 342px #e0e0e0,
      -150px -380px #dbdbdb,
      654px -426px #e3e3e3,
      -325px -263px #c2c2c2,
      755px -447px #c7c7c7,
      729px -177px #c2c2c2,
      -682px -391px #e6e6e6,
      554px -176px #ededed,
      -85px -428px #d9d9d9,
      714px 55px #e8e8e8,
      359px -285px #cfcfcf,
      -362px -508px #dedede,
      468px -265px #fcfcfc,
      74px -500px #c7c7c7,
      -514px 383px #dbdbdb,
      730px -92px #cfcfcf,
      -112px 287px #c9c9c9,
      -853px 79px #d6d6d6,
      828px 475px #d6d6d6,
      -681px 13px #fafafa,
      -176px 209px #f0f0f0,
      758px 457px #fafafa,
      -383px -454px #ededed,
      813px 179px #d1d1d1,
      608px 98px whitesmoke,
      -860px -65px #c4c4c4,
      -572px 272px #f7f7f7,
      459px 533px #fcfcfc,
      624px -481px #e6e6e6,
      790px 477px #dedede,
      731px -403px #ededed,
      70px -534px #cccccc,
      -23px 510px #cfcfcf,
      -652px -237px whitesmoke,
      -690px 367px #d1d1d1,
      810px 536px #d1d1d1,
      774px 293px #c9c9c9,
      -362px 97px #c2c2c2,
      563px 47px #dedede,
      313px 475px #e0e0e0,
      839px -491px #e3e3e3,
      -217px 377px #d4d4d4,
      -581px 239px #c2c2c2,
      -857px 72px #cccccc,
      -23px 340px #dedede,
      -837px 246px white,
      170px -502px #cfcfcf,
      822px -443px #e0e0e0,
      795px 497px #e0e0e0,
      -814px -337px #cfcfcf,
      206px -339px #f2f2f2,
      -779px 108px #e6e6e6,
      808px 2px #d4d4d4,
      665px 41px #d4d4d4,
      -564px 64px #cccccc,
      -380px 74px #cfcfcf,
      -369px -60px #f7f7f7,
      47px -495px #e3e3e3,
      -383px 368px #f7f7f7,
      419px 288px #d1d1d1,
      -598px -50px #c2c2c2,
      -833px 187px #c4c4c4,
      378px 325px whitesmoke,
      -703px 375px #d6d6d6,
      392px 520px #d9d9d9,
      -492px -60px #c4c4c4,
      759px 288px #ebebeb,
      98px -412px #c4c4c4,
      -911px -277px #c9c9c9;
  }
  .galaxy-layer:nth-child(1) {
    animation: sf-fly-by-1 var(--star-speed-1, 5s) linear infinite;
  }
  .galaxy-layer:nth-child(2) {
    animation: sf-fly-by-2 var(--star-speed-2, 5s) linear infinite;
  }
  .galaxy-layer:nth-child(3) {
    animation: sf-fly-by-3 var(--star-speed-3, 5s) linear infinite;
  }

  /* Mood themes */
  .mood-cheerful {
    --grad-1: 24 100% 70%;
    --grad-2: 197 100% 72%;
    --grad-3: 156 100% 64%;
    --star-speed-1: 3s;
    --star-speed-2: 3.5s;
    --star-speed-3: 4s;
  }
  .mood-professional {
    --grad-1: 224 100% 10%;
    --grad-2: 262 90% 18%;
    --grad-3: 200 90% 16%;
    --star-speed-1: 7s;
    --star-speed-2: 8s;
    --star-speed-3: 9s;
  }
  .mood-surprised {
    --star-speed-1: 2s;
    --star-speed-2: 2.4s;
    --star-speed-3: 2.8s;
  }
  .mood-happy {
    --grad-1: 140 70% 35%;
    --grad-2: 150 60% 40%;
    --grad-3: 160 70% 45%;
    --star-speed-1: 3s;
    --star-speed-2: 3.5s;
    --star-speed-3: 4s;
  }
  .mood-angry {
    --grad-1: 0 85% 40%;
    --grad-2: 12 90% 45%;
    --grad-3: 350 80% 38%;
    --star-speed-1: 2.8s;
    --star-speed-2: 3.2s;
    --star-speed-3: 3.6s;
  }
  .mood-sad {
    --grad-1: 30 25% 25%;
    --grad-2: 20 30% 30%;
    --grad-3: 15 35% 22%;
    --star-speed-1: 8s;
    --star-speed-2: 9s;
    --star-speed-3: 10s;
  }

  @keyframes cta-bounce {
    0%,
    100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-4px);
    }
  }
  @keyframes burst {
    0% {
      filter: brightness(1);
    }
    50% {
      filter: brightness(1.5) saturate(1.2);
    }
    100% {
      filter: brightness(1);
    }
  }

  .mood-cheerful .btn-neon,
  .mood-happy .btn-neon {
    animation: cta-bounce 2.2s ease-in-out infinite;
  }
  .mood-professional .btn-neon,
  .mood-sad .btn-neon {
    animation: none;
  }
  .mood-surprised .galaxy-bg,
  .mood-angry .galaxy-bg {
    animation: burst 1.8s ease-out;
  }

  .mood-cheerful canvas.pointer-events-none {
    opacity: 0.85 !important;
  }
  .mood-professional canvas.pointer-events-none {
    opacity: 0.45 !important;
  }
  .neon-border {
    box-shadow:
      0 0 0 1px hsl(var(--border) / 0.5),
      0 0 20px hsl(var(--neon) / 0.35),
      0 0 40px hsl(var(--neon) / 0.25);
  }
  .neon-text {
    text-shadow:
      0 0 10px hsl(var(--neon) / 0.7),
      0 0 20px hsl(var(--neon) / 0.5);
  }
  .btn-neon {
    @apply relative inline-flex items-center justify-center px-6 py-3 rounded-xl font-semibold text-sm md:text-base overflow-hidden transition-[filter,transform,box-shadow] duration-300;
    color: hsl(var(--primary-foreground));
    background:
      radial-gradient(
        120% 180% at 0% 0%,
        hsl(var(--neon) / 0.25) 0%,
        transparent 60%
      ),
      linear-gradient(
        180deg,
        hsl(var(--primary) / 0.95),
        hsl(var(--primary) / 0.75)
      );
    box-shadow:
      0 10px 30px -12px hsl(var(--neon) / 0.55),
      inset 0 0 0 1px hsl(var(--ring) / 0.2);
  }
  .btn-neon:hover {
    filter: brightness(1.08);
    box-shadow:
      0 14px 40px -10px hsl(var(--neon) / 0.75),
      inset 0 0 0 1px hsl(var(--ring) / 0.3);
    transform: translateY(-1px);
  }
  .btn-neon:active {
    transform: translateY(0px) scale(0.99);
  }
  .btn-neon .ripple {
    position: absolute;
    border-radius: 9999px;
    pointer-events: none;
    width: 20px;
    height: 20px;
    background: radial-gradient(
      circle,
      hsl(var(--neon) / 0.35) 0%,
      transparent 60%
    );
    animation: ripple 600ms ease-out forwards;
    transform: translate(-50%, -50%);
  }

  /* Ensure ripple keyframes exist even without Tailwind animation utility */
  @keyframes ripple {
    0% {
      transform: scale(0);
      opacity: 0.6;
    }
    100% {
      transform: scale(4);
      opacity: 0;
    }
  }
  @keyframes sf-fly-by-1 {
    from {
      transform: translateZ(-600px);
      opacity: 0.5;
    }
    to {
      transform: translateZ(0);
      opacity: 0.5;
    }
  }
  @keyframes sf-fly-by-2 {
    from {
      transform: translateZ(-1200px);
      opacity: 0.5;
    }
    to {
      transform: translateZ(-600px);
      opacity: 0.5;
    }
  }
  @keyframes sf-fly-by-3 {
    from {
      transform: translateZ(-1800px);
      opacity: 0.5;
    }
    to {
      transform: translateZ(-1200px);
      opacity: 0.5;
    }
  }

  .tilt-3d {
    perspective: 1000px;
    transform-style: preserve-3d;
  }

  .marquee {
    @apply overflow-hidden whitespace-nowrap;
  }
  .marquee-track {
    @apply inline-block will-change-transform;
    animation: marquee 30s linear infinite;
  }

  .futuristic-line {
    height: 2px;
    width: 100%;
    background: linear-gradient(
      90deg,
      transparent,
      hsl(var(--neon)),
      transparent
    );
    filter: drop-shadow(0 0 8px hsl(var(--neon) / 0.8));
    animation: shimmer 3s linear infinite;
    background-size: 200% 100%;
  }
  /* Solar system (planets only) */
  .solar-system {
    position: relative;
    width: 780px;
    height: 780px;
    margin: auto;
    overflow: hidden;
  }
  .orbit {
    border: 1px dashed #666;
  }
  #sun,
  .orbit,
  .orbit + div,
  .orbit + div > div {
    position: absolute;
  }
  #sun,
  .orbit,
  .orbit + div {
    top: 50%;
    left: 50%;
  }
  .orbit + div > div {
    top: 0;
    left: 50%;
  }
  .orbit,
  .orbit + div div,
  #earth {
    border-radius: 50%;
  }

  #sun {
    height: 200px;
    width: 200px;
    background-color: #fae20a;
    margin-top: -100px;
    margin-left: -100px;
    border-radius: 50%;
    box-shadow: 0 0 84px orange;
  }

  #earth {
    position: absolute;
    top: 0;
    left: 50%;
    height: 50px;
    width: 50px;
    margin-left: -25px;
    margin-top: -25px;
    border-radius: 50%;
    box-shadow: 0 0 34px #3a4385;
    cursor: pointer;
  }
  .earth-orbit,
  .earth-spin {
    width: 500px;
    height: 500px;
    margin-left: -250px;
    margin-top: -250px;
  }

  #moon {
    margin-top: -6px;
    margin-left: -6px;
    height: 12px;
    width: 12px;
    border-radius: 50%;
    background: white;
    box-shadow: 0 0 14px #3a4385;
  }
  .moon-orbit,
  .moon-spin {
    height: 90px;
    width: 90px;
    margin-top: -45px;
    margin-left: -45px;
    border-color: #447;
  }

  #venus {
    margin-top: -20px;
    margin-left: -20px;
    height: 40px;
    width: 40px;
    background: url("https://threejs.org/examples/textures/planets/venus.jpg")
      center/cover no-repeat;
    box-shadow: 0 0 34px #3a4385;
    cursor: pointer;
  }
  .venus-orbit,
  .venus-spin {
    margin-top: -185px;
    margin-left: -185px;
    width: 370px;
    height: 370px;
  }

  #mercury {
    margin-top: -13.5px;
    margin-left: -13.5px;
    height: 25px;
    width: 25px;
    background: url("https://threejs.org/examples/textures/planets/mercury.jpg")
      center/cover no-repeat;
    cursor: pointer;
  }
  .mercury-orbit,
  .mercury-spin {
    width: 280px;
    height: 280px;
    margin-left: -140px;
    margin-top: -140px;
  }

  #mars {
    margin-top: -16px;
    margin-left: -16px;
    height: 32px;
    width: 32px;
    background: url("https://threejs.org/examples/textures/planets/mars_1k_color.jpg")
      center/cover no-repeat;
    box-shadow: 0 0 14px #a64232;
    cursor: pointer;
  }
  .mars-orbit,
  .mars-spin {
    width: 700px;
    height: 700px;
    margin-left: -350px;
    margin-top: -350px;
  }

  @keyframes spin-right {
    100% {
      transform: rotate(360deg);
    }
  }
  .earth-spin {
    animation: spin-right 36.5s linear infinite;
  }
  .moon-spin {
    animation: spin-right 3s linear infinite;
  }
  .venus-spin {
    animation: spin-right 22s linear infinite;
  }
  .mercury-spin {
    animation: spin-right 8.8s linear infinite;
  }
  .mars-spin {
    animation: spin-right 68.7s linear infinite;
  }
}

@layer utilities {
  .text-gradient {
    background: linear-gradient(
      90deg,
      hsl(var(--grad-1)),
      hsl(var(--grad-2)),
      hsl(var(--grad-3))
    );
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
  }
  .glow {
    box-shadow:
      0 0 24px hsl(var(--neon) / 0.4),
      0 0 64px hsl(var(--neon) / 0.25);
  }
}
